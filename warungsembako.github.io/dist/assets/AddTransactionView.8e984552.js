import{M as x,o as g,c as k,w as s,_ as V,a as i,b as o,d as q,K as _,u as a,j as u,e,t as n,k as d,f as $}from"./index.1413d397.js";import{_ as m,a as p}from"./FormControl.6c1c486e.js";import{a as v,_ as f}from"./BaseButtons.c800c2c3.js";import{u as C}from"./product.5cccd41a.js";import{u as S}from"./transaction.213c1f35.js";import{r as h}from"./index.e49ded49.js";import"./sweetalert2.all.e9d3950e.js";const T=e("h1",{class:"text-center text-2xl mb-4"},"Tambah Data Transaksi",-1),N={key:0},M={class:"text-red-400 text-sm p-2"},w={key:0},B={class:"text-red-400 text-sm p-2"},P=e("hr",null,null,-1),D={key:0},A=e("h2",{class:"text-gray-500 mt-3"},"Nama",-1),J={class:"mt-2 text-lg"},R=e("h2",{class:"text-gray-500 mt-3"},"Harga",-1),U={class:"mt-2 text-lg"},j=e("h2",{class:"text-gray-500 mt-3"},"Jumlah",-1),E={class:"mt-2 text-lg"},F=e("h2",{class:"text-gray-500 mt-3"},"Total",-1),H={class:"mt-2 text-lg"},Y={__name:"AddTransactionView",setup(K){const r=C(),y=S(),t=x({product:"",qty:1}),b=()=>{t.product="",t.qty=1};return g(async()=>{r.getProducts()}),(z,l)=>(i(),k(V,null,{default:s(()=>[o($,null,{default:s(()=>[o(q,{"is-form":"",onSubmit:l[2]||(l[2]=_(c=>a(y).handleAddData(t),["prevent"]))},{footer:s(()=>[o(v,null,{default:s(()=>[o(f,{type:"submit",color:"info",label:"Submit"}),o(f,{type:"reset",color:"danger",outline:"",label:"Reset",onClick:_(b,["prevent"])},null,8,["onClick"])]),_:1})]),default:s(()=>[T,o(m,{label:"Pilih Produk"},{default:s(()=>[o(p,{modelValue:t.product,"onUpdate:modelValue":l[0]||(l[0]=c=>t.product=c),type:"select",options:a(r).products,"select-label":"name"},{default:s(()=>[a(r).errors.product_id?(i(),u("div",N,[e("span",M,n(a(r).errors.product_id[0]),1)])):d("",!0)]),_:1},8,["modelValue","options"])]),_:1}),o(m,{label:"Jumlah"},{default:s(()=>[o(p,{modelValue:t.qty,"onUpdate:modelValue":l[1]||(l[1]=c=>t.qty=c),type:"number",min:"1"},{default:s(()=>[a(r).errors.qty?(i(),u("div",w,[e("span",B,n(a(r).errors.qty[0]),1)])):d("",!0)]),_:1},8,["modelValue"])]),_:1}),P,t.product?(i(),u("div",D,[A,e("p",J,n(t.product.attributes.name),1),R,e("p",U,n(a(h.formatNumberToCurrency)(Math.ceil(t.product.attributes.price_sell))),1),j,e("p",E,n(t.qty+" "+t.product.relationships.unit.attributes.unit),1),F,e("p",H,n(a(h.formatNumberToCurrency)(Math.ceil(t.product.attributes.price_sell*t.qty))),1)])):d("",!0)]),_:1})]),_:1})]),_:1}))}};export{Y as default};
